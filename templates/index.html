<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° (Sprint 1-2)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .status-available {
            color: green;
            font-weight: bold;
        }

        .status-busy {
            color: red;
            font-weight: bold;
        }
    </style>
</head>

<body class="container py-5">
    <h1 class="mb-4">üìÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°</h1>

    <table class="table table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á</th>
                <th>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏</th>
                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                <th>‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á</th>
                <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ (Sprint 2)</th>
            </tr>
        </thead>
        <tbody>
            {% for room in rooms %}
            <tr>
                <td>{{ room.name }}</td>
                <td>{{ room.capacity }} ‡∏Ñ‡∏ô</td>

                <td>
                    {% if room.is_available %}
                    <span class="status-available">‡∏ß‡πà‡∏≤‡∏á</span>
                    {% else %}
                    <span class="status-busy">‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á</span>
                    {% endif %}
                </td>
                <td>{{ room.booked_by }}</td>

                <td>
                    {% if room.is_available %}
                    <form action="/book/{{ room.id }}" method="POST" class="d-flex gap-2">
                        <input type="text" name="booker_name" class="form-control form-control-sm"
                            placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á" required>
                        <button type="submit" class="btn btn-primary btn-sm">‡∏à‡∏≠‡∏á</button>
                    </form>
                    {% else %}
                    <form action="/cancel/{{ room.id }}" method="POST">
                        <button type="submit" class="btn btn-danger btn-sm">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    </form>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>

</html>